# DCshadow 
一种维持权限的方式  
**前提**
攻击者已经获取了域控的权限   
**简述**
攻击者伪造一个域控，进行更改配置或者更改域当中的密码进行 
**优点在于 不会产生大量的日志，比较隐蔽**   

## 原理  
原理上 会有以下几个步骤 

1、创建伪造的DC 
2、在伪造的DC上更改数据  
3、强制触发域复制，让指定的新对象的属性能够同步进入其他DC当中  


之前我们说过在DCsync当中如果有权限可以同步域控当中的信息，原理是在dc当中可以同步其中的信息。
但是dcsync不能进行注入新的对象，我们可以使用DCShadow的方式进行。 

DCshadow的原理是攻击者只需要在基础架构当中注册新的域控制服务器，然后注入AD对象或者已经修改的对象。 原理是获得域管理员的权限之后可以通过DRSUAPI等API进行操作使得服务器进行提权。

**通过DCShadow 产生的日志比较少，用来创建新的用户。**


## refer  
[利用实例](https://zhuanlan.zhihu.com/p/37782341)
